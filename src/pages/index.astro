---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/base-layout.astro";
import Work from "../components/work.astro";
import "../styles/global.css";

import type { TWork } from "../types/work.type";
import { Image } from "astro:assets";

const posts = await getCollection("posts");

const workDetails: TWork[] = [
  {
    company: "Boeing",
    role: "Senior Software Developer 2",
    description:
      "Responsible for developing stable and scalable micro service. The system has a set of unique challenges from a domain and technology perspective.",
    isOnGoing: true,
    duration: {
      from: "2022-06-01",
      to: "",
    },
  },
  {
    company: "EY",
    role: "Senior Security Consultant II",
    description:
      "Created various kinds od scheduled jobs that performed activities such as but not limited to Data Aggregation, Data Correlation, Rules and Criteria processing, SQL Query Export and Data clean up.",
    duration: {
      from: "2022-02-01",
      to: "2022-06-01",
    },
  },
  {
    company: "KPMG",
    role: "Software Development Consultant",
    description:
      "Developed brand new Analytic Web based application along with Web application performance tuning and Stored Procedure performance improvement. Created Stored Procedure for remove direct dependency and background processing.",
    duration: {
      from: "2020-01-01",
      to: "2021-03-01",
    },
  },
  {
    company: "Siemens",
    role: "Senior Software Engineer Motion Control - R&D",
    description:
      "Enabled ET 200 Pro FC-2 integration with TIA Portal | Application & Framework Developer and IoT Expert. Integrated custom developed library in existing framework. Improved performance of the tool while loading into windows system.",
    duration: {
      from: "2018-08-01",
      to: "2020-01-01",
    },
  },
  {
    company: "HCL Technologies",
    role: "Software Engineer",
    description:
      "Developed brand new Payment gateway solution as per PCI guideline. Implemented TLS 1.2 for settlement sever and application security. Web application performance tuning and Stored Procedure performance improvement.",
    duration: {
      from: "2015-08-01",
      to: "2018-08-01",
    },
  },
];
---

<BaseLayout>
  <div class="space-y-16 pb-24">
    <div class="pt-16 sm:pt-20">
      <h2 class="text-neutral-500 font-semibold pb-2">Work Experience</h2>
      <Work details={workDetails} />
    </div>

    <div>
      <h2 class="text-neutral-500 font-semibold pb-2">My thoughts</h2>
      <div class="space-y-2">
        {
          posts.map((post) => (
            <a
              href={`/blog/${post.slug}`}
              class="flex gap-3 p-4 -mx-4 sm:gap-4 transition hover:bg-neutral-900 rounded-xl outline-none ring-2 ring-transparent focus:ring-neutral-500 focus:bg-neutral-900 shadow-sm"
            >
              <div class="w-20 h-20 shrink-0 rounded-md overflow-hidden">
                <Image
                  src={post.data.image.url}
                  alt={post.data.image.alt}
                  width={128}
                  height={128}
                  class="w-full h-full object-cover"
                />
              </div>

              <div class="space-y-2">
                <h4 class="font-semibold text-neutral-100 text-lg sm:text-xl">
                  {post.data.title}
                </h4>

                <p class="text-neutral-500">{post.data.description}</p>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</BaseLayout>
